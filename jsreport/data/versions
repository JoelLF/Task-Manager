{"message":"First version","creationDate":{"$$date":1611594889440},"changes":[{"operation":"insert","path":"/samples","entitySet":"folders","entityId":"1v0jOTnGMXkhWMeh","serializedDoc":"{\n    \"name\": \"samples\",\n    \"creationDate\": {\n        \"$$date\": 1610990786644\n    },\n    \"modificationDate\": {\n        \"$$date\": 1610990786644\n    },\n    \"shortid\": \"e~i610A\",\n    \"_id\": \"1v0jOTnGMXkhWMeh\",\n    \"__entityPath\": \"/samples\"\n}"},{"operation":"insert","path":"/samples/Invoice","entitySet":"folders","entityId":"XCftrg2xMrIW5pDf","serializedDoc":"{\n    \"shortid\": \"G3i2B3\",\n    \"name\": \"Invoice\",\n    \"creationDate\": {\n        \"$$date\": 1610990786674\n    },\n    \"modificationDate\": {\n        \"$$date\": 1610990786674\n    },\n    \"_id\": \"XCftrg2xMrIW5pDf\",\n    \"folder\": {\n        \"shortid\": \"e~i610A\"\n    },\n    \"__entityPath\": \"/samples/Invoice\"\n}"},{"operation":"insert","path":"/samples/Sales","entitySet":"folders","entityId":"EHv3k4IqM0q5ds1x","serializedDoc":"{\n    \"name\": \"Sales\",\n    \"shortid\": \"FnHe~Wz\",\n    \"creationDate\": {\n        \"$$date\": 1610990786727\n    },\n    \"modificationDate\": {\n        \"$$date\": 1610990786727\n    },\n    \"_id\": \"EHv3k4IqM0q5ds1x\",\n    \"folder\": {\n        \"shortid\": \"e~i610A\"\n    },\n    \"__entityPath\": \"/samples/Sales\"\n}"},{"operation":"insert","path":"/samples/Orders","entitySet":"folders","entityId":"h84jEnQzGFeKJ26J","serializedDoc":"{\n    \"shortid\": \"erkLzi\",\n    \"name\": \"Orders\",\n    \"inheritedReadPermissions\": [],\n    \"inheritedEditPermissions\": [],\n    \"creationDate\": {\n        \"$$date\": 1610990786764\n    },\n    \"modificationDate\": {\n        \"$$date\": 1610990786764\n    },\n    \"_id\": \"h84jEnQzGFeKJ26J\",\n    \"folder\": {\n        \"shortid\": \"e~i610A\"\n    },\n    \"__entityPath\": \"/samples/Orders\"\n}"},{"operation":"insert","path":"/samples/shared","entitySet":"folders","entityId":"HcTF4sSjz5n7F7r2","serializedDoc":"{\n    \"shortid\": \"dOoi1a\",\n    \"name\": \"shared\",\n    \"creationDate\": {\n        \"$$date\": 1610990786790\n    },\n    \"modificationDate\": {\n        \"$$date\": 1610990786790\n    },\n    \"_id\": \"HcTF4sSjz5n7F7r2\",\n    \"folder\": {\n        \"shortid\": \"e~i610A\"\n    },\n    \"__entityPath\": \"/samples/shared\"\n}"},{"operation":"insert","path":"/samples/Sales/sales-main","entitySet":"templates","entityId":"ntTcBM14v7gxGDxF","serializedDoc":"{\n    \"shortid\": \"B1Q2SFTNr\",\n    \"name\": \"sales-main\",\n    \"recipe\": \"html-to-xlsx\",\n    \"engine\": \"handlebars\",\n    \"chrome\": {\n        \"printBackground\": true\n    },\n    \"htmlToXlsx\": {\n        \"htmlEngine\": \"chrome\"\n    },\n    \"data\": {\n        \"shortid\": \"B1lSTrt6NB\"\n    },\n    \"creationDate\": {\n        \"$$date\": 1610990786875\n    },\n    \"modificationDate\": {\n        \"$$date\": 1610990786875\n    },\n    \"_id\": \"ntTcBM14v7gxGDxF\",\n    \"content\": \"<html>\\n    <head>\\n        <style>\\n            {#asset sales-styles.css @encoding=utf8}\\n        </style>\\n    </head>\\n    <body>\\n        <table name=\\\"Sales-Detail\\\">\\n            <tbody class=\\\"head\\\">\\n                <tr>\\n                    <td></td>\\n                    <td colspan=\\\"5\\\" class=\\\"title\\\">SALES DETAIL</td>\\n                    <td></td>\\n                </tr>\\n                <tr>\\n                    {{generateEmptyCell 7}}\\n                </tr>\\n                <tr>\\n                    {{generateEmptyCell 1}}\\n                    <td class=\\\"label content border-top border-left\\\">Customer</td>\\n                    <td class=\\\"content border-top\\\">{{customer}}</td>\\n                    {{generateEmptyCell 1 \\\"content border-top\\\"}}\\n                    <td class=\\\"label content border-top\\\">Report Date</td>\\n                    <td class=\\\"content border-top border-right t-right\\\" data-cell-type=\\\"date\\\" data-cell-format-str=\\\"dd-mm-yyyy\\\">{{nowStr}}</td>\\n                    {{generateEmptyCell 1}}\\n                </tr>\\n                <tr>\\n                    {{generateEmptyCell 1}}\\n                    <td class=\\\"label content border-bottom border-left\\\">Month</td>\\n                    <td class=\\\"content border-bottom\\\">{{month}}</td>\\n                    {{generateEmptyCell 1 \\\"content border-bottom\\\"}}\\n                    <td class=\\\"label content border-bottom\\\">Tax</td>\\n                    <!-- enum = \\\"9\\\" percentage -->\\n                    <td class=\\\"content border-bottom border-right t-right\\\" data-cell-type=\\\"number\\\" data-cell-format-enum=\\\"9\\\">{{taxPercentage}}</td>\\n                    {{generateEmptyCell 1}}\\n                </tr>\\n                <tr>\\n                    {{generateEmptyCell 7}}\\n                </tr>\\n            </tbody>\\n            <tbody class=\\\"detail\\\">\\n                <tr>\\n                    <th class=\\\"t-center\\\">Date</th>\\n                    <th class=\\\"t-left\\\">Product</th>\\n                    <th class=\\\"t-left\\\">Category</th>\\n                    <th class=\\\"t-right\\\">Unit Price</th>\\n                    <th class=\\\"t-right\\\">Quantity</th>\\n                    <th class=\\\"t-right\\\">Discount</th>\\n                    <th class=\\\"t-right\\\">Amount</th>\\n                </tr>\\n                {{#each detail}}\\n                    <tr class=\\\"{{oddClassName @index}}\\\">\\n                        <td class=\\\"t-center\\\" data-cell-type=\\\"date\\\" data-cell-format-str=\\\"dd-mm-yyyy\\\">{{date}}</td>\\n                        <td>{{product}}</td>\\n                        <td>{{category}}</td>\\n                        <td class=\\\"t-right\\\" data-cell-type=\\\"number\\\">{{unitPrice}}</td>\\n                        <td class=\\\"t-right\\\" data-cell-type=\\\"number\\\">{{quantity}}</td>\\n                        <td class=\\\"t-right\\\" data-cell-type=\\\"number\\\" data-cell-format-enum=\\\"9\\\">{{discountPercentage}}</td>\\n                        <td class=\\\"t-right\\\" data-cell-type=\\\"formula\\\">=(D{{getDetailRowIndex @index}}*E{{getDetailRowIndex @index}}) - (D{{getDetailRowIndex @index}}*E{{getDetailRowIndex @index}}*F{{getDetailRowIndex @index}})</td>\\n                    </tr>\\n                {{/each}}\\n                <tr>\\n                    {{generateEmptyCell 5}}\\n                    <td class=\\\"label\\\">Total Net Amount $</td>\\n                    <td class=\\\"t-right\\\" data-cell-type=\\\"formula\\\">=SUM(G{{getDetailRowIndex 0}}:G{{getDetailRowIndex (sum detail.length -1)}})</td>\\n                </tr>\\n                <tr>\\n                    {{generateEmptyCell 5}}\\n                    <td class=\\\"label\\\" data-cell-type=\\\"formula\\\" data-cell-format-enum=\\\"2\\\">=CONCATENATE(\\\"VAT (\\\", F4*100, \\\"%)\\\", \\\" $\\\")</td>\\n                    <td class=\\\"t-right\\\" data-cell-type=\\\"formula\\\" data-cell-format-enum=\\\"2\\\">=G{{getDetailRowIndex detail.length}}*F4</td>\\n                </tr>\\n                <tr>\\n                    {{generateEmptyCell 5}}\\n                    <td class=\\\"label\\\">Total $</td>\\n                    <td class=\\\"t-right\\\" data-cell-type=\\\"formula\\\" data-cell-format-enum=\\\"2\\\">=SUM(G{{getDetailRowIndex detail.length}}:GG{{getDetailRowIndex (sum detail.length 1)}})</td>\\n                </tr>\\n            </tbody>\\n        </table>\\n    </body>\\n</html>\",\n    \"helpers\": \"const moment = require('moment')\\nconst rowOffset = 6\\n\\nfunction nowStr () {\\n    return moment().format('YYYY-MM-DD')\\n}\\n\\nfunction generateEmptyCell (repeat, className) {\\n    const cells = []\\n\\n    for (let i = 0; i < repeat; i++) {\\n        cells.push(`<td class=\\\"empty-cell ${className || ''}\\\"></td>`)\\n    }\\n\\n    return new Handlebars.SafeString(cells.join(''))\\n}\\n\\nfunction oddClassName (index) {\\n    return (index + 1) % 2 !== 0 ? 'odd' : ''\\n}\\n\\nfunction sum (a, b) {\\n    return a + b\\n}\\n\\nfunction getDetailRowIndex (index) {\\n    return (index + 1) + rowOffset\\n}\",\n    \"folder\": {\n        \"shortid\": \"FnHe~Wz\"\n    },\n    \"__entityPath\": \"/samples/Sales/sales-main\"\n}"},{"operation":"insert","path":"/samples/Invoice/invoice-main","entitySet":"templates","entityId":"b2WnQwHlKhGMqSnC","serializedDoc":"{\n    \"shortid\": \"rkJTnK2ce\",\n    \"recipe\": \"chrome-pdf\",\n    \"engine\": \"handlebars\",\n    \"data\": {\n        \"shortid\": \"Sy5S19ncg\"\n    },\n    \"name\": \"invoice-main\",\n    \"chrome\": {\n        \"printBackground\": true,\n        \"marginTop\": \"1cm\",\n        \"marginRight\": \"1cm\",\n        \"marginBottom\": \"1cm\",\n        \"marginLeft\": \"1cm\",\n        \"headerTemplate\": \"\",\n        \"footerTemplate\": \"\"\n    },\n    \"creationDate\": {\n        \"$$date\": 1610990786902\n    },\n    \"modificationDate\": {\n        \"$$date\": 1611594867747\n    },\n    \"_id\": \"b2WnQwHlKhGMqSnC\",\n    \"content\": \"<!--\\nInvoice dynamically rendered into html using handlebars and converted into pdf\\nusing chrome-pdf recipe. The styles are extracted into separate asset for\\nbetter readability and later reuse.\\n\\nData to this sample are mocked at the design time and should be filled on the\\nincoming API request.\\n!-->\\n\\n<html>\\n    <head>\\n        <meta content=\\\"text/html; charset=utf-8\\\" http-equiv=\\\"Content-Type\\\">\\n        <style>\\n            {#asset invoice-styles.css @encoding=utf8}\\n        </style>\\n    </head>\\n    <body>\\n        <div class=\\\"invoice-box\\\">\\n            <table cellpadding=\\\"0\\\" cellspacing=\\\"0\\\">\\n                <tr class=\\\"top\\\">\\n                    <td colspan=\\\"2\\\">\\n                        <table>\\n                            <tr>\\n                                <td class=\\\"title\\\">\\n                                    <h1> ITC </h1>\\n                                </td>\\n                                <td>\\n                                    Listado de coordinadores de área\\n                                    <br> Creado: {{now}}\\n                                </td>\\n                            </tr>\\n                        </table>\\n                    </td>\\n                </tr>\\n                <tr class=\\\"information\\\">\\n                    <td colspan=\\\"1 \\\">\\n                        <table>\\n                            <tr>\\n                                <td>\\n                                    {{seller.name}}<br>\\n                                    {{seller.road}}<br>\\n                                    {{seller.country}}\\n                                </td>\\n                            </tr>\\n                        </table>\\n                    </td>\\n                </tr>\\n                <tr class=\\\"heading\\\">\\n                    <td>\\n                        id\\n                    </td>\\n                    <td>\\n                        Usuario\\n                    </td>\\n                </tr>\\n                {{#each items}}\\n                <tr class=\\\"item\\\">\\n                    <td>\\n                        {{id}}\\n                    </td>\\n                    <td>\\n                        {{name}}\\n                    </td>\\n                </tr>\\n                {{/each}}\\n                </tr>\\n            </table>\\n        </div>\\n    </body>\\n</html>\\n\",\n    \"helpers\": \"function now() {\\n    return new Date().toLocaleDateString()\\n}\\n\\nfunction total(items) {\\n    var sum = 0\\n    items.forEach(function (i) {\\n        console.log('Calculating item ' + i.name + '; you should see this message in debug run')\\n        sum += i.price\\n    })\\n    return sum\\n}\",\n    \"folder\": {\n        \"shortid\": \"G3i2B3\"\n    },\n    \"__entityPath\": \"/samples/Invoice/invoice-main\"\n}"},{"operation":"insert","path":"/samples/Orders/orders-header","entitySet":"templates","entityId":"B3CIR18D9iRkl3Vv","serializedDoc":"{\n    \"shortid\": \"SJVbqZr9f\",\n    \"name\": \"orders-header\",\n    \"recipe\": \"chrome-pdf\",\n    \"engine\": \"handlebars\",\n    \"chrome\": {\n        \"printBackground\": true,\n        \"marginTop\": \"1.5cm\",\n        \"marginRight\": \"1.5cm\",\n        \"marginLeft\": \"1.cm\",\n        \"headerTemplate\": \"\",\n        \"footerTemplate\": \"\"\n    },\n    \"inheritedReadPermissions\": [],\n    \"inheritedEditPermissions\": [],\n    \"creationDate\": {\n        \"$$date\": 1610990786958\n    },\n    \"modificationDate\": {\n        \"$$date\": 1610990786958\n    },\n    \"_id\": \"B3CIR18D9iRkl3Vv\",\n    \"content\": \"<html>\\n    <head>        \\n         <link rel=\\\"stylesheet\\\" href=\\\"https://cdnjs.cloudflare.com/ajax/libs/metro/4.1.5/css/metro.min.css\\\">\\n         <style>\\n            {#asset orders-styles.css @encoding=utf8}\\n        </style>\\n    </head>\\n    <body>\\n        {{#each $pdf.pages}}\\n          {{#if @index}}\\n            <div style=\\\"page-break-before: always;\\\"></div>\\n          {{/if}}\\n          <main class=\\\"main\\\"> \\n            <header class=\\\"header\\\">             \\n              {{#with (lookup ../$pdf.pages @index)}}\\n                <h1>{{group}}</h1>\\n              {{/with}}  \\n            </header>\\n            <footer class=\\\"footer\\\">\\n                <span>Page {{getPageNumber @index}} of {{getTotalPages ../$pdf.pages}}</span>\\n            </footer>\\n          </main>\\n        {{/each}}\\n    </body>\\n</html>\",\n    \"helpers\": \"\\r\\nfunction getPageNumber (pageIndex) {\\r\\n    if (pageIndex == null) {\\r\\n        return ''\\r\\n    }\\r\\n    \\r\\n    const pageNumber = pageIndex + 1\\r\\n    \\r\\n    return pageNumber\\r\\n}\\r\\n\\r\\nfunction getTotalPages (pages) {\\r\\n    if (!pages) {\\r\\n        return ''\\r\\n    }\\r\\n    \\r\\n    return pages.length\\r\\n}\",\n    \"folder\": {\n        \"shortid\": \"erkLzi\"\n    },\n    \"__entityPath\": \"/samples/Orders/orders-header\"\n}"},{"operation":"insert","path":"/samples/Orders/orders-main","entitySet":"templates","entityId":"E8eIOyLLrEmh7d61","serializedDoc":"{\n    \"phantom\": {\n        \"waitForJS\": true\n    },\n    \"recipe\": \"chrome-pdf\",\n    \"engine\": \"handlebars\",\n    \"scripts\": [\n        {\n            \"shortid\": \"BJX1Jw82ce\"\n        }\n    ],\n    \"shortid\": \"HJH11D83ce\",\n    \"name\": \"orders-main\",\n    \"chrome\": {\n        \"printBackground\": true,\n        \"marginTop\": \"4cm\",\n        \"marginRight\": \"1.5cm\",\n        \"marginBottom\": \"1.5cm\",\n        \"marginLeft\": \"1.5cm\",\n        \"waitForJS\": false,\n        \"headerTemplate\": \"\",\n        \"footerTemplate\": \"\"\n    },\n    \"pdfOperations\": [\n        {\n            \"type\": \"merge\",\n            \"templateShortid\": \"SJVbqZr9f\",\n            \"renderForEveryPage\": false,\n            \"mergeWholeDocument\": true\n        }\n    ],\n    \"inheritedReadPermissions\": [],\n    \"inheritedEditPermissions\": [],\n    \"creationDate\": {\n        \"$$date\": 1610990786926\n    },\n    \"modificationDate\": {\n        \"$$date\": 1610990786926\n    },\n    \"_id\": \"E8eIOyLLrEmh7d61\",\n    \"content\": \"<!--\\nMore complex example demonstrating advanced features like\\n- using custom server script to fetch remote data\\n- using custom modules in safe sandbox\\n- painting a chart\\n- using global helpers\\n- merging custom dynamic header document\\n\\nNote: This example requires jsreport to be configured with\\n{ \\\"allowLocalFilesAccess\\\": true } or\\n{ \\\"extensions\\\": { \\\"scripts\\\": { \\\"allowedModules\\\": [\\\"https\\\"] } } }\\n!-->\\n<html>\\n  <head>\\n    <meta content=\\\"text/html; charset=utf-8\\\" http-equiv=\\\"Content-Type\\\">\\n    <link rel=\\\"stylesheet\\\" href=\\\"https://cdnjs.cloudflare.com/ajax/libs/metro/4.1.5/css/metro.min.css\\\">\\n    <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js'></script>\\n  </head>\\n  <body>\\n    {{#each orders}}\\n        <!-- add hiden information to the page which is resolved in OrdersHeader template\\n             during the pdf merge. See the docs about pdf utils extension for more details. -->\\n        {{{pdfCreatePagesGroup country}}}\\n        <canvas id='orders{{country}}' style=\\\"margin-bottom:30px\\\"></canvas>\\n        <table class='table striped'>\\n            <thead>\\n                <tr>\\n                    <th>OrderID</th>\\n                    <th>ShipAddress</th>\\n                    <th>ShipCity</th>\\n                    <th>ShipCountry</th>\\n                </tr>\\n            </thead>\\n            <tbody>\\n                {{#each rows}}\\n                <tr>\\n                    <td>{{OrderID}}</td>\\n                    <td>{{ShipAddress}}</td>\\n                    <td>{{ShipCity}}</td>\\n                    <td>{{ShipCountry}}</td>\\n                </tr>\\n                {{/each}}\\n            </tbody>\\n        </table>\\n\\n        <script>\\n            // convert data into js string using function from asset global helpers.js\\n            // this results into something like var data = { \\\"a\\\": \\\"foo\\\" }\\n            // which gets afterwards interpreted in chrome into object\\n            var data = {{{toJSON accumulated}}}\\n\\n            Chart.defaults.global.legend.display = false;\\n\\n            new Chart(orders{{country}}.getContext(\\\"2d\\\"), {\\n                type: 'bar',\\n                data: {\\n                    labels: Object.keys(data),\\n                    datasets: [{\\n                        fillColor: 'blue',\\n                        label: \\\"Orders in time\\\",\\n                        backgroundColor: \\\"rgba(27,161,226,0.2)\\\",\\n                        borderColor: \\\"rgba(27,161,226,1)\\\",\\n                        borderWidth: 1,\\n                        hoverBackgroundColor: \\\"rgba(27,161,226,0.4)\\\",\\n                        hoverBorderColor: \\\"rgba(27,161,226,1)\\\",\\n                        data: Object.keys(data).map(function (o) {\\n                            return data[o].value;\\n                        })\\n                    }]\\n                },\\n                options: {\\n                    animation: {\\n                        duration: 0\\n                    }\\n                }\\n            });\\n        </script>\\n        <div style='page-break-after: always;'>\\n        </div>\\n    {{/each}}\\n  </body>\\n</html>\\n\",\n    \"helpers\": \"\",\n    \"folder\": {\n        \"shortid\": \"erkLzi\"\n    },\n    \"__entityPath\": \"/samples/Orders/orders-main\"\n}"},{"operation":"insert","path":"/samples/Invoice/invoice-data","entitySet":"data","entityId":"BtjeNSeViEA9uYEY","serializedDoc":"{\n    \"shortid\": \"Sy5S19ncg\",\n    \"name\": \"invoice-data\",\n    \"creationDate\": {\n        \"$$date\": 1610990786820\n    },\n    \"modificationDate\": {\n        \"$$date\": 1611594852442\n    },\n    \"_id\": \"BtjeNSeViEA9uYEY\",\n    \"dataJson\": \"{\\r\\n    \\\"seller\\\": {\\r\\n        \\\"name\\\": \\\"Instituto Tecnológico de Canarias (ITC)\\\",\\r\\n        \\\"road\\\": \\\"Calle Cebrián, 3, 35003\\\",\\r\\n        \\\"country\\\": \\\"Las Palmas de Gran Canaria, Las Palmas\\\"\\r\\n    },\\r\\n    \\\"items\\\": [{\\r\\n        \\\"id\\\": \\\"5\\\",\\r\\n        \\\"name\\\": \\\"Baltasar\\\"\\r\\n    }, { \\\"id\\\": \\\"6\\\",\\r\\n        \\\"name\\\": \\\"Ricardo\\\"\\r\\n        }, { \\\"id\\\": \\\"7\\\",\\r\\n        \\\"name\\\": \\\"Eduardo\\\"\\r\\n        }, { \\\"id\\\": \\\"8\\\",\\r\\n        \\\"name\\\": \\\"Juan\\\"\\r\\n        }, { \\\"id\\\": \\\"9\\\",\\r\\n        \\\"name\\\": \\\"Salvador\\\"\\r\\n        }, { \\\"id\\\": \\\"10\\\",\\r\\n        \\\"name\\\": \\\"Donato\\\"\\r\\n        }, { \\\"id\\\": \\\"11\\\",\\r\\n        \\\"name\\\": \\\"Alma\\\"\\r\\n        }, { \\\"id\\\": \\\"12\\\",\\r\\n        \\\"name\\\": \\\"Mercedes\\\"\\r\\n        }, { \\\"id\\\": \\\"13\\\",\\r\\n        \\\"name\\\": \\\"Vicente\\\"}]\\r\\n}\",\n    \"folder\": {\n        \"shortid\": \"G3i2B3\"\n    },\n    \"__entityPath\": \"/samples/Invoice/invoice-data\"\n}"},{"operation":"insert","path":"/samples/Sales/sales-data","entitySet":"data","entityId":"I5i6JCQxX27o4SZP","serializedDoc":"{\n    \"shortid\": \"B1lSTrt6NB\",\n    \"name\": \"sales-data\",\n    \"creationDate\": {\n        \"$$date\": 1610990786838\n    },\n    \"modificationDate\": {\n        \"$$date\": 1610990786838\n    },\n    \"_id\": \"I5i6JCQxX27o4SZP\",\n    \"dataJson\": \"{\\n    \\\"customer\\\": \\\"Walker Group\\\",\\n    \\\"month\\\": \\\"April\\\",\\n    \\\"taxPercentage\\\": 0.20,\\n    \\\"detail\\\": [{\\n        \\\"date\\\": \\\"2019-04-03\\\",\\n        \\\"product\\\": \\\"Vitamin C\\\",\\n        \\\"category\\\": \\\"Health\\\",\\n        \\\"unitPrice\\\": 25,\\n        \\\"quantity\\\": 1,\\n        \\\"discountPercentage\\\": 0 \\n    }, {\\n        \\\"date\\\": \\\"2019-04-03\\\",\\n        \\\"product\\\": \\\"Probiotics\\\",\\n        \\\"category\\\": \\\"Health\\\",\\n        \\\"unitPrice\\\": 83,\\n        \\\"quantity\\\": 1,\\n        \\\"discountPercentage\\\": 0.25\\n    }, {\\n        \\\"date\\\": \\\"2019-04-04\\\",\\n        \\\"product\\\": \\\"Mild Bubble Cleanser\\\",\\n        \\\"category\\\": \\\"Cleansing\\\",\\n        \\\"unitPrice\\\": 13,\\n        \\\"quantity\\\": 2,\\n        \\\"discountPercentage\\\": 0\\n    }, {\\n        \\\"date\\\": \\\"2019-04-04\\\",\\n        \\\"product\\\": \\\"Deep Cleanser\\\",\\n        \\\"category\\\": \\\"Cleansing\\\",\\n        \\\"unitPrice\\\": 12,\\n        \\\"quantity\\\": 3,\\n        \\\"discountPercentage\\\": 0\\n    }, {\\n        \\\"date\\\": \\\"2019-04-04\\\",\\n        \\\"product\\\": \\\"Atomy Men Set\\\",\\n        \\\"category\\\": \\\"Men Skin Care\\\",\\n        \\\"unitPrice\\\": 54,\\n        \\\"quantity\\\": 1,\\n        \\\"discountPercentage\\\": 0.35\\n    }, {\\n        \\\"date\\\": \\\"2019-04-09\\\",\\n        \\\"product\\\": \\\"BB Cream\\\",\\n        \\\"category\\\": \\\"Make-Up\\\",\\n        \\\"unitPrice\\\": 12,\\n        \\\"quantity\\\": 3,\\n        \\\"discountPercentage\\\": 0\\n    }, {\\n        \\\"date\\\": \\\"2019-04-15\\\",\\n        \\\"product\\\": \\\"Lipstick Poppy\\\",\\n        \\\"category\\\": \\\"Make-Up\\\",\\n        \\\"unitPrice\\\": 22,\\n        \\\"quantity\\\": 1,\\n        \\\"discountPercentage\\\": 0\\n    }, {\\n        \\\"date\\\": \\\"2019-04-15\\\",\\n        \\\"product\\\": \\\"Healthy Glow Base\\\",\\n        \\\"category\\\": \\\"Make-Up\\\",\\n        \\\"unitPrice\\\": 18,\\n        \\\"quantity\\\": 2,\\n        \\\"discountPercentage\\\": 0.12\\n    }, {\\n        \\\"date\\\": \\\"2019-04-26\\\",\\n        \\\"product\\\": \\\"Lotion\\\",\\n        \\\"category\\\": \\\"Skin Care\\\",\\n        \\\"unitPrice\\\": 23,\\n        \\\"quantity\\\": 1,\\n        \\\"discountPercentage\\\": 0\\n    }]\\n}\",\n    \"folder\": {\n        \"shortid\": \"FnHe~Wz\"\n    },\n    \"__entityPath\": \"/samples/Sales/sales-data\"\n}"},{"operation":"insert","path":"/samples/Invoice/invoice-styles.css","entitySet":"assets","entityId":"cNFoLuZPGmLImByS","serializedDoc":"{\n    \"shortid\": \"ByKOCF3cg\",\n    \"name\": \"invoice-styles.css\",\n    \"creationDate\": {\n        \"$$date\": 1610990787105\n    },\n    \"modificationDate\": {\n        \"$$date\": 1610990787105\n    },\n    \"_id\": \"cNFoLuZPGmLImByS\",\n    \"content\": {\n        \"$$buffer\": \"Lmludm9pY2UtYm94IHsKICAgIG1heC13aWR0aDogODAwcHg7CiAgICBtYXJnaW46IGF1dG87CiAgICBwYWRkaW5nOiAzMHB4OwogICAgYm9yZGVyOiAxcHggc29saWQgI2VlZTsKICAgIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgLjE1KTsKICAgIGZvbnQtc2l6ZTogMTZweDsKICAgIGxpbmUtaGVpZ2h0OiAyNHB4OwogICAgZm9udC1mYW1pbHk6ICdIZWx2ZXRpY2EgTmV1ZScsICdIZWx2ZXRpY2EnLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmOwogICAgY29sb3I6ICM1NTU7Cn0KLmludm9pY2UtYm94IHRhYmxlIHsKICAgIHdpZHRoOiAxMDAlOwogICAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7CiAgICB0ZXh0LWFsaWduOiBsZWZ0Owp9Ci5pbnZvaWNlLWJveCB0YWJsZSB0ZCB7CiAgICBwYWRkaW5nOiA1cHg7CiAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wOwp9Ci5pbnZvaWNlLWJveCB0YWJsZSB0ciB0ZDpudGgtY2hpbGQoMikgewogICAgdGV4dC1hbGlnbjogcmlnaHQ7Cn0KLmludm9pY2UtYm94IHRhYmxlIHRyLnRvcCB0YWJsZSB0ZCB7CiAgICBwYWRkaW5nLWJvdHRvbTogMjBweDsKfQouaW52b2ljZS1ib3ggdGFibGUgdHIudG9wIHRhYmxlIHRkLnRpdGxlIHsKICAgIGZvbnQtc2l6ZTogNDVweDsKICAgIGxpbmUtaGVpZ2h0OiA0NXB4OwogICAgY29sb3I6ICMzMzM7Cn0KLmludm9pY2UtYm94IHRhYmxlIHRyLmluZm9ybWF0aW9uIHRhYmxlIHRkIHsKICAgIHBhZGRpbmctYm90dG9tOiA0MHB4Owp9Ci5pbnZvaWNlLWJveCB0YWJsZSB0ci5oZWFkaW5nIHRkIHsKICAgIGJhY2tncm91bmQ6ICNlZWU7CiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RkZDsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwp9Ci5pbnZvaWNlLWJveCB0YWJsZSB0ci5kZXRhaWxzIHRkIHsKICAgIHBhZGRpbmctYm90dG9tOiAyMHB4Owp9Ci5pbnZvaWNlLWJveCB0YWJsZSB0ci5pdGVtIHRkIHsKICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlOwp9Ci5pbnZvaWNlLWJveCB0YWJsZSB0ci5pdGVtLmxhc3QgdGQgewogICAgYm9yZGVyLWJvdHRvbTogbm9uZTsKfQouaW52b2ljZS1ib3ggdGFibGUgdHIudG90YWwgdGQ6bnRoLWNoaWxkKDIpIHsKICAgIGJvcmRlci10b3A6IDJweCBzb2xpZCAjZWVlOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA2MDBweCkgewogICAgLmludm9pY2UtYm94IHRhYmxlIHRyLnRvcCB0YWJsZSB0ZCB7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgfQogICAgLmludm9pY2UtYm94IHRhYmxlIHRyLmluZm9ybWF0aW9uIHRhYmxlIHRkIHsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICB9Cn0=\"\n    },\n    \"folder\": {\n        \"shortid\": \"G3i2B3\"\n    },\n    \"__entityPath\": \"/samples/Invoice/invoice-styles.css\"\n}"},{"operation":"insert","path":"/samples/Sales/sales-styles.css","entitySet":"assets","entityId":"rJvdgZQjT02sM0Jx","serializedDoc":"{\n    \"name\": \"sales-styles.css\",\n    \"shortid\": \"B1m9OJE\",\n    \"creationDate\": {\n        \"$$date\": 1610990787221\n    },\n    \"modificationDate\": {\n        \"$$date\": 1610990787221\n    },\n    \"_id\": \"rJvdgZQjT02sM0Jx\",\n    \"content\": {\n        \"$$buffer\": \"dGFibGUgewogICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsKfQoKLmVtcHR5LWNlbGwgewogICAgcGFkZGluZy10b3A6IDEwcHg7CiAgICBwYWRkaW5nLWJvdHRvbTogMTBweDsKfQoKdGQ6bm90KC5lbXB0eS1jZWxsKSB7CiAgICBtaW4td2lkdGg6IDEwMHB4Owp9CgoudC1sZWZ0IHsKICAgIHRleHQtYWxpZ246IGxlZnQ7Cn0KCi50LWNlbnRlciB7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCi50LXJpZ2h0IHsKICAgIHRleHQtYWxpZ246IHJpZ2h0Owp9CgouaGVhZCAudGl0bGUgewogICAgYmFja2dyb3VuZC1jb2xvcjogIzcwQUQ0NzsKICAgIGNvbG9yOiAjZmZmOwogICAgZm9udC1zaXplOiAyMXB4OwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCi5sYWJlbCB7CiAgICBmb250LXdlaWdodDogYm9sZDsKfQoKLmhlYWQgLmNvbnRlbnQgewogICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICAgIHBhZGRpbmc6IDJweDsKfQoKLmhlYWQgLmJvcmRlci10b3AgewogICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICMwMDA7Cn0KCi5oZWFkIC5ib3JkZXItbGVmdCB7CiAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICMwMDA7Cn0KCi5oZWFkIC5ib3JkZXItcmlnaHQgewogICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgIzAwMDsKfQoKLmhlYWQgLmJvcmRlci1ib3R0b20gewogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDA7Cn0KCi5kZXRhaWwgewogICAgYm9yZGVyOiAxcHggc29saWQgI0JFREJBQTsKfQoKLmRldGFpbCB0aCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNzBBRDQ3OwogICAgYm9yZGVyOiAxcHggc29saWQgI0JFREJBQTsKICAgIGNvbG9yOiAjZmZmOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCi5kZXRhaWwgLm9kZCB0ZCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRTJFRkRBOwogICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNCRURCQUE7CiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0JFREJBQTsKfQoKLmRldGFpbCB0ZCB7CiAgICBwYWRkaW5nOiA0cHg7IAp9\"\n    },\n    \"folder\": {\n        \"shortid\": \"FnHe~Wz\"\n    },\n    \"__entityPath\": \"/samples/Sales/sales-styles.css\"\n}"},{"operation":"insert","path":"/samples/Orders/orders-styles.css","entitySet":"assets","entityId":"TkyKnD6BL1qcmGVM","serializedDoc":"{\n    \"name\": \"orders-styles.css\",\n    \"shortid\": \"IEWXRnJ\",\n    \"inheritedReadPermissions\": [],\n    \"inheritedEditPermissions\": [],\n    \"creationDate\": {\n        \"$$date\": 1610990787272\n    },\n    \"modificationDate\": {\n        \"$$date\": 1610990787272\n    },\n    \"_id\": \"TkyKnD6BL1qcmGVM\",\n    \"content\": {\n        \"$$buffer\": \"KiB7DQogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCn0NCg0KaHRtbCwgYm9keSB7DQogICAgbWFyZ2luOiAwcHg7DQogICAgcGFkZGluZzogMHB4Ow0KfQ0KDQoubWFpbiB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBoZWlnaHQ6IDEwMCU7DQp9DQoNCi5oZWFkZXIgew0KICAgIHdpZHRoOiAxMDAlOw0KICAgIHBhZGRpbmctdG9wOiAxMHB4Ow0KfQ0KDQouZm9vdGVyIHsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBwYWRkaW5nLWJvdHRvbTogMjBweDsNCiAgICBib3JkZXItdG9wOiAxcHggc29saWQgYmxhY2s7DQp9\"\n    },\n    \"folder\": {\n        \"shortid\": \"erkLzi\"\n    },\n    \"__entityPath\": \"/samples/Orders/orders-styles.css\"\n}"},{"operation":"insert","path":"/samples/shared/global helpers.js","entitySet":"assets","entityId":"WxXRk9B6ReGz96NH","serializedDoc":"{\n    \"shortid\": \"SkMw3X69l\",\n    \"isSharedHelper\": true,\n    \"name\": \"global helpers.js\",\n    \"creationDate\": {\n        \"$$date\": 1610990787247\n    },\n    \"modificationDate\": {\n        \"$$date\": 1610990787247\n    },\n    \"_id\": \"WxXRk9B6ReGz96NH\",\n    \"content\": {\n        \"$$buffer\": \"ZnVuY3Rpb24gdG9KU09OIChkYXRhKSB7DQogIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTsNCn0NCg==\"\n    },\n    \"folder\": {\n        \"shortid\": \"dOoi1a\"\n    },\n    \"__entityPath\": \"/samples/shared/global helpers.js\"\n}"},{"operation":"insert","path":"/samples/Orders/orders-script","entitySet":"scripts","entityId":"BA9uh4XcptcGSCio","serializedDoc":"{\n    \"shortid\": \"BJX1Jw82ce\",\n    \"name\": \"orders-script\",\n    \"inheritedReadPermissions\": [],\n    \"inheritedEditPermissions\": [],\n    \"creationDate\": {\n        \"$$date\": 1610990787303\n    },\n    \"modificationDate\": {\n        \"$$date\": 1610990787303\n    },\n    \"_id\": \"BA9uh4XcptcGSCio\",\n    \"content\": \"// server side script fetching remote data and preparing report data source\\nconst https = require('https');\\n\\n// call remote http rest api\\nfunction fetchOrders() {\\n    return new Promise((resolve, reject) => {\\n        https.get('https://services.odata.org/V4/Northwind/Northwind.svc/Orders',\\n        (result) => {\\n            var str = '';\\n            result.on('data', (b) => str += b);\\n            result.on('error', reject);\\n            result.on('end', () => resolve(JSON.parse(str).value));\\n        });\\n    })\\n}\\n\\n// group the data for report\\nasync function prepareDataSource() {\\n    const orders = await fetchOrders()\\n    const ordersByShipCountry = orders.reduce((a, v) => {\\n        a[v.ShipCountry] = a[v.ShipCountry] || []\\n        a[v.ShipCountry].push(v)\\n        return a\\n    }, {})\\n\\n    return Object.keys(ordersByShipCountry).map((country) => {\\n        const ordersInCountry = ordersByShipCountry[country]\\n\\n        const accumulated = {}\\n\\n        ordersInCountry.forEach((o) => {\\n            o.OrderDate = new Date(o.OrderDate);\\n            const key = o.OrderDate.getFullYear() + '/' + (o.OrderDate.getMonth() + 1);\\n            accumulated[key] = accumulated[key] || {\\n                value: 0,\\n                orderDate: o.OrderDate\\n            };\\n            accumulated[key].value++;\\n        });\\n\\n        return {\\n            rows: ordersInCountry,\\n            country,\\n            accumulated\\n        }\\n\\n    }).slice(0, 2)\\n}\\n\\n// add jsreport hook which modifies the report input data\\nasync function beforeRender(req, res) {\\n    req.data.orders = await prepareDataSource()\\n}\",\n    \"folder\": {\n        \"shortid\": \"erkLzi\"\n    },\n    \"__entityPath\": \"/samples/Orders/orders-script\"\n}"},{"operation":"insert","path":"/samples/Invoice/load data","entitySet":"scripts","entityId":"v2PdsXF04p903xsW","serializedDoc":"{\n    \"folder\": {\n        \"shortid\": \"G3i2B3\"\n    },\n    \"shortid\": \"j689Sw4i3H\",\n    \"name\": \"load data\",\n    \"content\": \"var mysql = require('mysql');\\r\\n\\r\\nvar con = mysql.createConnection({\\r\\n    host: \\\"localhost\\\",\\r\\n    user: \\\"root\\\",\\r\\n    password: \\\"joel123\\\",\\r\\n    database: \\\"db_itc_task_manager\\\",\\r\\n    port: \\\"3306\\\",\\r\\n});\\r\\n\\r\\nfunction beforeRender(request, response, done) {\\r\\n    con.connect(function(err) {\\r\\n        if (err) throw err;\\r\\n        con.query('SELECT id, username FROM users;', function(err, result, fields) {\\r\\n            if (err) throw err;\\r\\n            request.data = {\\r\\n                config: result\\r\\n            };\\r\\n            done();\\r\\n        });\\r\\n    });\\r\\n}\",\n    \"creationDate\": {\n        \"$$date\": 1611594198910\n    },\n    \"modificationDate\": {\n        \"$$date\": 1611594580692\n    },\n    \"_id\": \"v2PdsXF04p903xsW\",\n    \"isGlobal\": false,\n    \"__entityPath\": \"/samples/Invoice/load data\"\n}"}],"modificationDate":{"$$date":1611594889440},"shortid":"pGqG8h3","_id":"w1X0WA92o8cA57IV","$entitySet":"versions"}
